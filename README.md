# Cloudflare DoH AdBlock Worker

ุงู ูพุฑูฺู ฺฉ **Cloudflare Worker ูุฎุตูุต DoH (DNS-over-HTTPS)** ุงุณุช ฺฉู ุจุฑุง ุจูุงฺฉ ฺฉุฑุฏู ุฏุงูููโูุง ุชุจูุบุงุช ุงุฑุงู ูุงููุฏ **ุชูพุณูุ ฺฉุชุงูุชุ MediaAdุ Mediaffic** ุทุฑุงุญ ุดุฏู ุงุณุช. ุงู Worker ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ ุงูพโูุง ูุซู **Intra** ุง ูุฑ ฺฉูุงูุช DoH ุฏฺฏุฑุ ูโุชูุงูุฏ ุชุง ุญุฏูุฏ **ธฐูช ุชุจูุบุงุช ุงุฑุงู ุฏุฑ ููุจุงู** ุฑุง ูุณุฏูุฏ ฺฉูุฏ.

---

## โจ ูฺฺฏโูุง

* ุจูุงฺฉ ฺฉุงูู ุฏุงูููโูุง ุชุจูุบุงุช ุดูุงุฎุชูโุดุฏู:

  * mediaad.org
  * mediaffic.ir
  * yektanet.com
  * ู ฺูุฏ ุฒุฑ ุฏุงููู ูุฑุจูุทู
* ูพุงุณุฎโุฏู DNS ุฌุนู `0.0.0.0` ุจุฑุง ุฏุฑุฎูุงุณุชโูุง A
* ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุงุณุชุงูุฏุงุฑุฏ **RFC8484 (DNS-over-HTTPS)**
* ุณุงุฒฺฏุงุฑ ุจุง ุงูพโูุง **Intra**, **Nebulo**, **RethinkDNS**, **DNScloak** ู ูุฑ DoH Client ุงุณุชุงูุฏุงุฑุฏ
* ุจุฏูู ูุงุฒ ุจู VPS ุง ุณุฑูุฑ โ ููุท Cloudflare Worker
* ุนุฏู ูุงุฒ ุจู ุฏุณุชฺฉุงุฑ ูุฑูุฑฺฏุฑ ุง ุณุณุชูโุนุงูู

---

## ๐งฉ ุณุงุฎุชุงุฑ ูพุฑูฺู

ุงู ุฑูพูุฒุชูุฑ ุดุงูู ูุงู ุงุตู ุฒุฑ ุงุณุช:

```
worker.js
```

ฺฉู ุชูุงู ููุทู DoH Worker ุฏุงุฎู ุขู ูุฑุงุฑ ุฏุงุฑุฏ.

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### ฑ) ูุงุฑุฏ Cloudflare ุดูุฏ

ุจู ูุณูุช **Workers & Pages โ Workers** ุจุฑูุฏ.

### ฒ) ฺฉ Worker ุฌุฏุฏ ุจุณุงุฒุฏ

ฺฏุฒูู **Create Worker** ุฑุง ุจุฒูุฏ.

### ณ) ูุญุชูุง ูุงู `worker.js` ุฑุง ฺฉุงูู ุฏุฑ ุงุฏุชูุฑ ูุฑุงุฑ ุฏูุฏ

### ด) Worker ุฑุง Deploy ฺฉูุฏ

ฺฉ URL ูุดุงุจู ุฒุฑ ุฏุฑุงูุช ูโฺฉูุฏ:

```
https://your-worker-name.your-subdomain.workers.dev/dns-query
```

### ต) ุงูพ Intra ุง ูุฑ DoH client ุฏฺฏุฑ ุฑุง ุชูุธู ฺฉูุฏ

ุฏุฑ ุจุฎุด DoH URL ููุฏุงุฑ ุฒุฑ ุฑุง ุจุฏูุฏ:

```
https://your-worker-name.your-subdomain.workers.dev/dns-query
```

---

## ๐ก๏ธ ุฏูุช ููุชุฑูฺฏ ุชุจูุบุงุช ฺูุฏุฑ ุงุณุชุ

ุงู Worker ูโุชูุงูุฏ **ุญุฏูุฏ ธฐูช ุชุจูุบุงุช ุงุฑุงู** ุดุงูู ุชูพุณูุ ฺฉุชุงูุชุ ูุฏุงุงุฏุ ู Mediaffic ุฑุง ูุณุฏูุฏ ฺฉูุฏ.

ุฏูู ุงูฺฉู ฑฐฐูช ุชุจูุบุงุช ูุณุฏูุฏ ููโุดูุฏ:

* ุจุฑุฎ ุณุงุชโูุง ุชุจูุบุงุช ุฑุง ุงุฒ ุทุฑู ุจฺฉโุงูุฏ ู ุจุฏูู DNS ููุฏ ูโฺฉููุฏ
* ุจุนุถ ุดุจฺฉูโูุง ุงุฒ ุฑูุดโูุง ูุฎูโุณุงุฒ ุงุณฺฉุฑูพุช ุงุณุชูุงุฏู ูโฺฉููุฏ
* ุชุนุฏุงุฏ ุฏุงููู ุชุจูุบุงุช ูุชุบุฑ ูุณุชูุฏ ู ุจุงุฏ ุฏุฑ ุขูุฏู ุงุถุงูู ุดููุฏ

ุจุง ุงู ุญุงู ุฏุฑ ุงฺฉุซุฑ ุณุงุชโูุง ูุชุฌู ฺุดูฺฏุฑ ุฎูุงูุฏ ุฏุงุดุช.

---

## ๐๏ธ ฺฏุณุชุฑุด ูุณุช ุฏุงูููโูุง ูุณุฏูุฏ

ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุฏุงููู ุฌุฏุฏุ ฺฉุงูุณุช ุฏุฑ `worker.js` ูุงู ุฏุงููู ุฑุง ุจู ูุณุช ุฒุฑ ุงุถุงูู ฺฉูุฏ:

```js
const BLOCKED = [
  "mediaad.org",
  "mediaffic.ir",
  "yektanet.com",
  "example.com"
];
```

---

## ๐ค ูุดุงุฑฺฉุช

ุฎูุดุญุงู ูโุดูู PR ุจูุฑุณุชุฏ:

* ุงุถุงูู ฺฉุฑุฏู ุฏุงูููโูุง ุฌุฏุฏ ุชุจูุบุงุช
* ุจูุจูุฏ ุนููฺฉุฑุฏ Worker
* ุฑูุน ุจุงฺฏโูุง

---

## ๐ ูุงุณูุณ

MIT License

---
